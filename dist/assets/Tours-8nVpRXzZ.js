import{c as N,r as s,j as e}from"./index-DkXwHJzI.js";import{g as y,s as C,d as k,L as p,B as w}from"./api-CP6f7Xip.js";import{B as n}from"./Button-Ci0RQRUX.js";import{I as c,P as _,T}from"./Input-BRFvc_qE.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],P=N("pen",E),I=()=>{const[d,m]=s.useState([]),[g,i]=s.useState(!1),[t,o]=s.useState({}),[j,x]=s.useState(!1),l=s.useCallback(async()=>{try{x(!0);const a=await y();m(a)}catch(a){console.error("Failed to load tours",a)}finally{x(!1)}},[]);s.useEffect(()=>{l()},[l]);const u=s.useCallback(a=>{o(a||{name:"",type:"",price_adult:0,price_child:0,price_native:0,icon:"ðŸŒ´",active:!0}),i(!0)},[]),v=s.useCallback(async()=>{try{await C(t),i(!1),l()}catch{alert("Erro ao salvar")}},[t,l]),f=s.useCallback(async a=>{if(window.confirm("Desativar este passeio?"))try{await k(a),l()}catch{alert("Erro ao remover")}},[l]),r=s.useCallback((a,h)=>{o(b=>({...b,[a]:h}))},[]);return g?e.jsx(p,{children:e.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[e.jsx("h2",{className:"text-xl font-bold dark:text-white mb-4",children:t.id?"Editar Passeio":"Novo Passeio"}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-2xl shadow-sm space-y-4",children:[e.jsx(c,{label:"Nome do Passeio",value:t.name||"",onChange:a=>r("name",a.target.value)}),e.jsx(c,{label:"Tipo (Ex: Lancha, Trilha)",value:t.type||"",onChange:a=>r("type",a.target.value)}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(c,{label:"Ãcone (Emoji)",value:t.icon||"",onChange:a=>r("icon",a.target.value),className:"text-center text-2xl"}),e.jsx("div",{className:"flex-1"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(c,{label:"PreÃ§o Adulto",type:"number",value:t.price_adult||0,onChange:a=>r("price_adult",parseFloat(a.target.value))}),e.jsx(c,{label:"PreÃ§o CrianÃ§a",type:"number",value:t.price_child||0,onChange:a=>r("price_child",parseFloat(a.target.value))}),e.jsx(c,{label:"PreÃ§o Nativo",type:"number",value:t.price_native||0,onChange:a=>r("price_native",parseFloat(a.target.value))})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(n,{fullWidth:!0,onClick:v,children:"Salvar"}),e.jsx(n,{fullWidth:!0,variant:"ghost",onClick:()=>i(!1),children:"Cancelar"})]})]})}):e.jsxs(p,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"Passeios"}),e.jsx(n,{onClick:()=>u(),className:"!p-3 !rounded-full",children:e.jsx(_,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-3 pb-24",children:[d.length===0&&!j&&e.jsxs("div",{className:"text-center text-gray-400 py-10",children:[e.jsx(w,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Nenhum passeio cadastrado"})]}),d.map(a=>e.jsxs("div",{className:"bg-white dark:bg-gray-900 p-4 rounded-xl shadow-sm flex items-center gap-4",children:[e.jsx("div",{className:"text-3xl w-12 h-12 flex items-center justify-center bg-gray-100 dark:bg-gray-800 rounded-full",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold dark:text-white",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:a.type}),e.jsxs("div",{className:"mt-1 flex gap-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:["A: R$",a.price_adult]}),e.jsxs("span",{children:["C: R$",a.price_child]}),e.jsxs("span",{children:["N: R$",a.price_native]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:()=>u(a),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg",children:e.jsx(P,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>f(a.id),className:"p-2 text-red-400 hover:bg-red-50 rounded-lg",children:e.jsx(T,{className:"w-5 h-5"})})]})]},a.id))]})]})};export{I as Tours};
