import{c as p,r as d,j as e}from"./index-DkXwHJzI.js";import{a as y,L as g}from"./api-CP6f7Xip.js";import{C as u}from"./clock-5wB-NO0E.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],b=p("credit-card",j),w=()=>{const[r,i]=d.useState([]),[c,l]=d.useState(!1),o=d.useCallback(async()=>{l(!0);try{const t=await y();i(t)}catch(t){console.error(t)}finally{l(!1)}},[]);d.useEffect(()=>{o()},[o]);const{total:m,byMethod:x}=d.useMemo(()=>{const t=r.reduce((s,a)=>s+a.total_amount,0),n=r.reduce((s,a)=>(s[a.payment_method_1]=(s[a.payment_method_1]||0)+a.payment_value_1,a.payment_method_2&&(s[a.payment_method_2]=(s[a.payment_method_2]||0)+(a.payment_value_2||0)),s),{});return{total:t,byMethod:n}},[r]),h=d.useCallback(t=>new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),[]);return e.jsx(g,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"Resumo do Dia"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-purple-700 text-white p-5 rounded-2xl shadow-lg shadow-purple-900/20",children:[e.jsx("p",{className:"text-purple-200 text-sm mb-1",children:"Total Vendido"}),e.jsxs("h3",{className:"text-2xl font-bold",children:["R$ ",m.toFixed(2)]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800",children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Vendas"}),e.jsx("h3",{className:"text-2xl font-bold dark:text-white",children:r.length})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 p-5 rounded-2xl shadow-sm",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-500 mb-3 uppercase tracking-wider",children:"Por Pagamento"}),e.jsx("div",{className:"space-y-3",children:Object.entries(x).map(([t,n])=>e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"dark:text-gray-300 font-medium",children:t})]}),e.jsxs("span",{className:"font-bold dark:text-white",children:["R$ ",n.toFixed(2)]})]},t))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-500 mb-3 uppercase tracking-wider",children:"Ãšltimas Vendas"}),e.jsxs("div",{className:"space-y-3 pb-10",children:[r.map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-900 p-4 rounded-xl shadow-sm border-l-4 border-purple-500 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:["R$ ",t.total_amount.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(u,{className:"w-3 h-3"})," ",h(t.created_at)]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded text-gray-600 dark:text-gray-400",children:[t.payment_method_1," ",t.payment_method_2&&`+ ${t.payment_method_2}`]})})]},t.id)),r.length===0&&!c&&e.jsx("p",{className:"text-center text-gray-500",children:"Nenhuma venda hoje."})]})]})]})})};export{w as DailySummary};
